(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(10),i=a.n(c),s=a(30),r=a(17),l=a(15),o=a(26),u=a(24),j=a(11),d=(a(48),a(77),a(7)),b=a(65),h=a.n(b).a.create({baseURL:"https://djfinal.herokuapp.com/api/user",headers:{"Content-type":"application/json"}}),m=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"getAll",value:function(){return h.get("")}},{key:"get",value:function(e){return h.get("".concat(e))}},{key:"create",value:function(e){return h.post("",e)}},{key:"update",value:function(e,t){return h.put("".concat(e),t)}},{key:"delete",value:function(e){return h.delete("".concat(e))}},{key:"deleteAll",value:function(){return h.delete("")}},{key:"findByName",value:function(e){return h.get("?name=".concat(e))}}]),e}()),v=a(2),O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(d.a)(n)),n.onChangepw=n.onChangepw.bind(Object(d.a)(n)),n.saveTutorial=n.saveTutorial.bind(Object(d.a)(n)),n.newTutorial=n.newTutorial.bind(Object(d.a)(n)),n.state={id:null,name:"",pw:"",submitted:!1},n}return Object(l.a)(a,[{key:"onChangeTitle",value:function(e){this.setState({name:e.target.value})}},{key:"onChangepw",value:function(e){this.setState({pw:e.target.value})}},{key:"saveTutorial",value:function(){var e=this,t={name:this.state.name,pw:this.state.pw};m.create(t).then((function(t){e.setState({id:t.data.id,name:t.data.name,pw:t.data.pw,submitted:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.setState({id:null,anme:"",pw:"",submitted:!1})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:this.state.name,onChange:this.onChangeTitle,name:"name"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"pw",children:"PW"}),Object(v.jsx)("input",{type:"password",className:"form-control",id:"pw",required:!0,value:this.state.pw,onChange:this.onChangepw,name:"pw"})]}),Object(v.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),a}(n.Component),f=a(33),p=(n.Component,function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangeSearchname=n.onChangeSearchname.bind(Object(d.a)(n)),n.retrieveTutorials=n.retrieveTutorials.bind(Object(d.a)(n)),n.refreshList=n.refreshList.bind(Object(d.a)(n)),n.setActiveTutorial=n.setActiveTutorial.bind(Object(d.a)(n)),n.removeAllTutorials=n.removeAllTutorials.bind(Object(d.a)(n)),n.searchname=n.searchname.bind(Object(d.a)(n)),n.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchname:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"onChangeSearchname",value:function(e){var t=e.target.value;this.setState({searchname:t})}},{key:"retrieveTutorials",value:function(){var e=this;m.getAll().then((function(t){e.setState({tutorials:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;m.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchname",value:function(){var e=this;m.findByName(this.state.searchname).then((function(t){e.setState({tutorials:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.searchname,t.tutorials),n=t.currentTutorial,c=t.currentIndex;return Object(v.jsxs)("div",{className:"list row",children:[Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("h4",{children:"User List"}),Object(v.jsx)("ul",{className:"list-group",children:a&&a.map((function(t,a){return Object(v.jsx)("li",{className:"list-group-item "+(a===c?"active":""),onClick:function(){return e.setActiveTutorial(t,a)},children:t.name},a)}))})]}),Object(v.jsx)("div",{className:"col-md-6",children:n?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Detail"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"name:"})})," ",n.name]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"pw:"})})," ",n.pw]})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{})]})})]})}}]),a}(n.Component)),x=a(146),g=a(66),w=a.n(g),k=a(145),N=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.state={user:"",pw:"",back_user:"",back_pw:""},n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({user:e.target.value})}},{key:"handlepwChange",value:function(e){this.setState({pw:e.target.value})}},{key:"handleSubmit",value:function(e){alert("\u767b\u5165 "+this.state.user+"\n"),e.preventDefault()}},{key:"setActiveTutorial",value:function(e){this.setState({back_user:e}),alert(this.state.back_user)}},{key:"render",value:function(){return Object(v.jsx)("form",{onSubmit:this.handleSubmit,children:Object(v.jsxs)("div",{className:"submit-form",children:[Object(v.jsx)(x.a,{color:"primary","aria-label":"Add a Lock icon",children:Object(v.jsx)(w.a,{})}),Object(v.jsx)("br",{}),Object(v.jsx)(k.a,{id:"outlined-basic",value:this.state.value,onChange:this.handleChange,label:"Id",variant:"outlined"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{}),Object(v.jsx)(k.a,{id:"outlined-basic",label:"Password",variant:"outlined"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{type:"submit",value:"Submit"})]})})}}]),a}(n.Component),S=a(25),y=a(50),C=a.n(y),T=a(67),A=a(18),I=(a(64),function(e){var t=e.favouriteComponent;return Object(v.jsx)(v.Fragment,{children:e.movies.map((function(a,n){return Object(v.jsxs)("div",{className:"image-container d-flex justify-content-start m-3",children:[Object(v.jsx)("h4",{children:a.Title}),Object(v.jsx)("img",{src:a.Poster,alt:"movie"}),Object(v.jsx)("div",{onClick:function(){return e.handleFavouritesClick(a)},className:"overlay d-flex align-items-center justify-content-center",children:Object(v.jsx)(t,{})})]})}))})}),L=function(e){return Object(v.jsx)("div",{className:"col",children:Object(v.jsx)("h4",{children:e.heading})})},F=function(e){return Object(v.jsx)("div",{className:"col col-sm-4",children:Object(v.jsx)("input",{className:"form-control",value:e.value,onChange:function(t){return e.setSearchValue(t.target.value)},placeholder:"Search Movies..."})})},J=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"mr-2",children:"Add to Favourites"}),Object(v.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-heart-fill",fill:"red",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})})]})},M=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"mr-2",children:"Remove from favourites"}),Object(v.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-x-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("path",{"fill-rule":"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(v.jsx)("path",{"fill-rule":"evenodd",d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})]})},B=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),a=(t[0],t[1],Object(n.useState)("")),c=Object(A.a)(a,2),i=(c[0],c[1],Object(n.useState)([])),s=Object(A.a)(i,2),r=s[0],l=s[1],o=function(e){console.log(JSON.parse(localStorage.getItem("react-movie-app-favourites")))};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-favourites"));l(e)}),[]),console.log(JSON.parse(localStorage.getItem("react-movie-app-favourites"))),Object(v.jsxs)("div",{className:"container-fluid movie-app",children:[Object(v.jsx)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:Object(v.jsx)(L,{heading:"Favourites"})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(I,{movies:r,handleFavouritesClick:function(e){var t=r.filter((function(t){return t.imdbID!==e.imdbID}));l(t),o(t)},favouriteComponent:M})})]})},z=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(A.a)(i,2),r=s[0],l=s[1],o=Object(n.useState)([]),u=Object(A.a)(o,2),j=u[0],d=u[1],b=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://www.omdbapi.com/?s=".concat(t,"&apikey=c447ddb3"),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:(i=e.sent).Search&&c(i.Search);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){localStorage.setItem("react-movie-app-favourites",JSON.stringify(e)),console.log(JSON.parse(localStorage.getItem("react-movie-app-favourites")))};return Object(n.useEffect)((function(){b(r)}),[r]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-favourites"));d(e)}),[]),Object(v.jsxs)("div",{className:"container-fluid movie-app",children:[Object(v.jsxs)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:[Object(v.jsx)(L,{heading:"Movies"}),Object(v.jsx)(F,{searchValue:r,setSearchValue:l})]}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(I,{movies:a,favouriteComponent:J,handleFavouritesClick:function(e){var t=[].concat(Object(S.a)(j),[e]);d(t),h(t)}})})]})},D=a(53);D.a.initialize("G-MHWCPJES7K",{debug:!0,titleCase:!1,gaOptions:{userId:123}}),D.a.pageview(window.location.pathname+window.location.search);var E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(v.jsx)("a",{href:"/movie",className:"navbar-brand",children:"\u96fb\u5f71\u7246"}),Object(v.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/movie",className:"nav-link",children:"movie"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/favorite",className:"nav-link",children:"favorite"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/User",className:"nav-link",children:"all_users"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/add",className:"nav-link",children:"Sign Up"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/login",className:"nav-link",children:"Login"})})]})]}),Object(v.jsx)("div",{className:"container mt-3",children:Object(v.jsxs)(j.c,{children:[Object(v.jsx)(j.a,{exact:!0,path:["/","/User"],component:p}),Object(v.jsx)(j.a,{exact:!0,path:"/movie",component:z}),Object(v.jsx)(j.a,{exact:!0,path:"/Favorite",component:B}),Object(v.jsx)(j.a,{exact:!0,path:"/add",component:O}),Object(v.jsx)(j.a,{exact:!0,path:"/login",component:N})]})})]})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(v.jsx)(s.a,{children:Object(v.jsx)(E,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,a){},77:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.cf58c9ff.chunk.js.map